<div class="text-center my-3">
  <h1>Beskedmodul</h1>
</div>

<div class="container">
  <div class="row wrapper-row">
    <div class="col-3 message-nav">
      <button
        class="btn btn-danger btn-block my-3"
        (click)="switchMenu(newMessageMenu)"
      >
        Ny Besked
      </button>
      <nav>
        <ul class="nav">
          <li class="nav-item">
            <a class="nav-link my-1" (click)="switchMenu(inboxMenu)">
              <fa-icon [icon]="faInbox" class="mx-2"></fa-icon>
              Indbakke
              <span class="badge badge-danger float-right">2</span>
            </a>
          </li>
          <li class="nav-item my-1">
            <a class="nav-link" (click)="switchMenu(sentMenu)">
              <fa-icon
                [icon]="faPaperPlane"
                class="mx-2"
              ></fa-icon>
              Sendt
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <div class="col-9">
      <div *ngIf="this.activeMenu === newMessageMenu">
        <div class="text-center">Ny Besked</div>

        <div class="form-group row my-3">
          <label for="receiver" class="col-2 col-form-label">Modtager:</label>
          <div class="col-10">
            <input
              type="text"
              name="receiver"
              id="receiver"
              class="form-control"
              placeholder="Modtager navn, brugernavn..."
            />
          </div>
        </div>

        <div class="form-group">
          <textarea
            placeholder="Begynd at skrive din besked her..."
            class="form-control"
            name="message"
            id="message"
            cols="30"
            rows="10"
          ></textarea>
        </div>

        <div class="float-right">
          <button class="btn btn-success m-1">Send Besked</button>
        </div>
      </div>

      <div *ngIf="this.activeMenu === inboxMenu">
        <p>Inbox Menu</p>
        <table class="table table-striped table-bordered">
            <thead>
                <th>Afsender</th>
                <th>Besked</th>
            </thead>
            <tbody>
                <tr *ngFor="let message of getMessagesToMe()">
                    <td>{{ message.sender.name }}</td>
                    <td>{{ message.message }}</td>
                </tr>
            </tbody>
        </table>
      </div>

      <div *ngIf="this.activeMenu === sentMenu">
          <p>Sent Menu</p>
          <table class="table table-striped table-bordered">
              <thead>
                  <th>Modtager</th>
                  <th>Besked</th>
              </thead>
              <tbody>
                  <tr *ngFor="let message of getSentMessages()">
                      <td>{{ message.recipient.name }}</td>
                      <td>{{ message.message }}</td>
                  </tr>
              </tbody>
          </table>
      </div>

    </div>
  </div>
</div>
